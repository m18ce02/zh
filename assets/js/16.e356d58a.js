(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{346:function(a,s,e){"use strict";e.r(s);var t=e(8),_=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[s("code",[a._v("版本: 1.2 | 发布日期: 07/02/2024")])]),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("提前阅读基础概念")]),a._v(" "),s("ol",[s("li",[s("RouterLink",{attrs:{to:"/pages/becaba/"}},[a._v("aiM18 App 概念")])],1),a._v(" "),s("li",[s("RouterLink",{attrs:{to:"/pages/ac081b/"}},[a._v("aiM18 前端开发须知")])],1),a._v(" "),s("li",[s("RouterLink",{attrs:{to:"/pages/211e7e/"}},[a._v("aiM18 后台开发须知")])],1)])]),a._v(" "),s("h2",{attrs:{id:"前提要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前提要求"}},[a._v("#")]),a._v(" 前提要求")]),a._v(" "),s("ol",[s("li",[a._v("请确定你已安装用户测试程序(UAT程序) . UAT程序是另外一套独立的aiM18程序用于测试的目的，我们的开发环境需要依赖于UAT程序。")]),a._v(" "),s("li",[a._v("如果你没有安装UAT程序，请联系Multiable的员工。")]),a._v(" "),s("li",[a._v("请将UAT环境中的"),s("RouterLink",{attrs:{to:"/pages/becaba/#aim18-架构"}},[a._v("WildFly")]),a._v("拷贝到每一个开发人员的开发机器上")],1),a._v(" "),s("li",[a._v("由于开发人员的机器要运行UAT WildFly,这些机器至少需要4G内存")]),a._v(" "),s("li",[a._v("JDK版本1.8或者以上")]),a._v(" "),s("li",[a._v("在下面的例子中，我们使用opcq作为App的Key，注意全系统的 App Key不能出现重复，可以用你的组织特有的代号作为前缀，这是避免冲突好的方式")])]),a._v(" "),s("h2",{attrs:{id:"配置指引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置指引"}},[a._v("#")]),a._v(" 配置指引")]),a._v(" "),s("h3",{attrs:{id:"_1-安装-jre"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-jre"}},[a._v("#")]),a._v(" 1. 安装 JRE")]),a._v(" "),s("p",[a._v("确保/检查Eclipse中安装的JDK/JRE的版本是1.8或者以上")]),a._v(" "),s("h3",{attrs:{id:"_2-添加-server-runtime"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-添加-server-runtime"}},[a._v("#")]),a._v(" 2. 添加 Server Runtime")]),a._v(" "),s("ol",[s("li",[a._v("Runtime = WildFly Application Server 9.x")]),a._v(" "),s("li",[a._v("Home Directory = 拷贝到本机的WildFly所在的目录")]),a._v(" "),s("li",[a._v("用这个Runtime在Eclispe中创建一个Server")])]),a._v(" "),s("p",[a._v("| "),s("img",{attrs:{src:"/zh/assets/runtime.png",alt:"runtime"}})]),a._v(" "),s("h3",{attrs:{id:"_3-创建app项目结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-创建app项目结构"}},[a._v("#")]),a._v(" 3. 创建App项目结构")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("用"),s("code",[a._v("git clone")]),a._v("命令从"),s("a",{attrs:{href:"https://github.com/m18ce01/M18-App-Skeleton",target:"_blank",rel:"noopener noreferrer"}},[a._v("Github aiM18"),s("OutboundLink")],1),a._v("拷贝一个现成的项目结构，项目命名为"),s("code",[a._v("opcq")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/m18ce01/M18-App-Skeleton.git opcq\n")])])])]),a._v(" "),s("li",[s("p",[s("code",[a._v("opcq")]),a._v(" 目录结构如下所示")])])]),a._v(" "),s("p",[a._v("​      "),s("img",{attrs:{src:"/zh/assets/s1.jpg",alt:"s1"}})]),a._v(" "),s("h3",{attrs:{id:"_4-将项目导入eclipse"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-将项目导入eclipse"}},[a._v("#")]),a._v(" 4. 将项目导入Eclipse")]),a._v(" "),s("p",[a._v("在Eclipse，通过[File -> Import Projects from Folder] 将 "),s("code",[a._v("p-ear")]),a._v(" "),s("code",[a._v("p-ejb")]),a._v(" "),s("code",[a._v("p-jsf")]),a._v(" "),s("code",[a._v("p-share")]),a._v(" 这四个项目依次导入")]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/s2.png",alt:"s2"}})]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/s3.png",alt:"s3"}})]),a._v(" "),s("h3",{attrs:{id:"_5-配置项目的属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-配置项目的属性"}},[a._v("#")]),a._v(" 5. 配置项目的属性")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("github上的项目名为 "),s("code",[a._v("paml")]),a._v(", 我们需要重命名为 "),s("code",[a._v("opcq")])]),a._v(" "),s("p",[a._v("将 "),s("code",[a._v("paml_ejb.jar")]),a._v(" 改为 "),s("code",[a._v("opcq_ejb.jar")])]),a._v(" "),s("p",[a._v("将 "),s("code",[a._v("paml_share.jar")]),a._v(" 改为 "),s("code",[a._v("opcq_share.jar")])])])]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/s4.png",alt:"s4"}})]),a._v(" "),s("ul",[s("li",[a._v("修改 app.xml , 详细内容你可以参照 "),s("RouterLink",{attrs:{to:"/pages/becaba/#关于-app-xml"}},[a._v("总体概述 - app.xml")]),a._v(" 。")],1)]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/s5.png",alt:"s5"}})]),a._v(" "),s("h3",{attrs:{id:"_6-复制编译环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-复制编译环境"}},[a._v("#")]),a._v(" 6. 复制编译环境")]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/s6.png",alt:"s6"}})]),a._v(" "),s("p",[a._v("你的 "),s("code",[a._v("WildFly Home\\standalone\\deployments\\caw_ear.ear")]),a._v(" 目录应该会比上面截图显示的有更多的Jar包 (取决于你的aiM18平台安装了多少个App)")]),a._v(" "),s("p",[s("code",[a._v("*_ejb.jar")]),a._v(" 代表的是所有名字以 "),s("code",[a._v("_ejb.jar")]),a._v(" 结尾的Jar包")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("将 "),s("code",[a._v("WildFly Home\\standalone\\deployments\\caw_ear.ear\\*_ejb.jar")]),a._v(" 拷贝到 "),s("code",[a._v("caw_ear\\lib\\ejb")])])]),a._v(" "),s("li",[s("p",[a._v("将  "),s("code",[a._v("WildFly Home\\standalone\\deployments\\caw_ear.ear\\lib\\*_share.jar")]),a._v(" 拷贝到 "),s("code",[a._v("caw_ear\\lib\\share")])])]),a._v(" "),s("li",[s("p",[a._v("将  "),s("code",[a._v("WildFly Home\\standalone\\deployments\\caw_ear.ear\\jsf.war\\WEB-INF\\lib\\*_jsf.jar")]),a._v(" 拷贝到 "),s("code",[a._v("caw_ear\\lib\\jsf")])])])]),a._v(" "),s("h3",{attrs:{id:"_7-配置-p-ejb-编译路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-配置-p-ejb-编译路径"}},[a._v("#")]),a._v(" 7. 配置 p-ejb 编译路径")]),a._v(" "),s("p",[a._v("将 "),s("code",[a._v("caw_ear\\lib\\ejb")]),a._v(" 和 "),s("code",[a._v("caw_ear\\lib\\share")]),a._v(" 下面所有的Jar包 添加到Libraries")]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/b3.jpg",alt:"b3"}})]),a._v(" "),s("h3",{attrs:{id:"_8-配置-p-jsf-编译路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-配置-p-jsf-编译路径"}},[a._v("#")]),a._v(" 8. 配置 p-jsf 编译路径")]),a._v(" "),s("p",[a._v("将 "),s("code",[a._v("caw_ear\\lib\\jsf")]),a._v(" 和 "),s("code",[a._v("caw_ear\\lib\\share")]),a._v(" 下面所有的Jar包 添加到Libraries")]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/b2.jpg",alt:"b2"}})]),a._v(" "),s("h3",{attrs:{id:"_9-配置-p-share-编译路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-配置-p-share-编译路径"}},[a._v("#")]),a._v(" 9. 配置 p-share 编译路径")]),a._v(" "),s("p",[a._v("将 "),s("code",[a._v("caw_ear\\lib\\share")]),a._v(" 下面所有的Jar包添加到 Libraries")]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/b1.jpg",alt:"b1"}})]),a._v(" "),s("h3",{attrs:{id:"_10-扩展-运行时类环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-扩展-运行时类环境"}},[a._v("#")]),a._v(" 10. 扩展 运行时类环境")]),a._v(" "),s("p",[a._v("aiM18平台先行在提供给你的WildFly Module中添加了一些Jar包,添加这些Jar包将极大的方便你使用一些常用的工具类")]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/b5.jpg",alt:"b5"}})]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/b6.jpg",alt:"b6"}})]),a._v(" "),s("p",[s("strong",[a._v("将下面三个添加到 classpath entry")])]),a._v(" "),s("p",[s("code",[a._v("WildFly Home\\modules\\system\\layes\\caw")])]),a._v(" "),s("p",[s("code",[a._v("WildFly Home\\modules\\system\\layes\\em")])]),a._v(" "),s("p",[s("code",[a._v("WildFly Home\\modules\\system\\layes\\base")])]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/b7.jpg",alt:"b7"}})]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/b4.jpg",alt:"b4"}})]),a._v(" "),s("h3",{attrs:{id:"_11-运行app程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-运行app程序"}},[a._v("#")]),a._v(" 11. 运行App程序")]),a._v(" "),s("p",[a._v("将 "),s("code",[a._v("caw_ear")]),a._v(" 添加到Server然后启动")]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/s7.jpg",alt:"s7"}})]),a._v(" "),s("h3",{attrs:{id:"_12-用ant工具build-app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-用ant工具build-app"}},[a._v("#")]),a._v(" 12. 用Ant工具Build App")]),a._v(" "),s("p",[a._v("修改 "),s("code",[a._v("\\opcq\\p-other\\ant\\build_output.xml")]),a._v(", 将App的名字改为"),s("code",[a._v("opcq")])]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/s8.png",alt:"s8"}})]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/s9.png",alt:"s9"}})]),a._v(" "),s("p",[a._v("Build过后,在 \\opcq\\p-other\\jar 目录下面，你会得到如下所示的Jar包")]),a._v(" "),s("p",[s("img",{attrs:{src:"/zh/assets/s10.png",alt:"s10"}})]),a._v(" "),s("h3",{attrs:{id:"_13-发布app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-发布app"}},[a._v("#")]),a._v(" 13. 发布App")]),a._v(" "),s("p",[a._v("将Jar包拷贝到你的用户测试环境或者生产环境")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("将  "),s("code",[a._v("opcq_ejb.jar")]),a._v(" 拷贝到 "),s("code",[a._v("WildFly Home\\standalone\\deployments\\caw_ear.ear\\")])])]),a._v(" "),s("li",[s("p",[a._v("将  "),s("code",[a._v("opcq_share.jar")]),a._v(" 拷贝到 "),s("code",[a._v("WildFly Home\\standalone\\deployments\\caw_ear.ear\\lib\\")])])]),a._v(" "),s("li",[s("p",[a._v("将  "),s("code",[a._v("opcq_jsf.jar")]),a._v(" 拷贝到 "),s("code",[a._v("WildFly Home\\standalone\\deployments\\caw_ear.ear\\jsf.war\\WEB-INF\\lib\\")])])])]),a._v(" "),s("p",[a._v("**如果你的App想要广泛的发布，你也可以将App Build成Multiable指定的格式，然后通过 USU的方式进行安装. **")])])}),[],!1,null,null,null);s.default=_.exports}}]);